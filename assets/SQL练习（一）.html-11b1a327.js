import{_ as t,W as e,X as o,Y as s,Z as n,$ as p,a0 as c,D as l}from"./framework-8a0a3771.js";const k={},u={href:"https://blog.csdn.net/flycat296/article/details/63681089",target:"_blank",rel:"noopener noreferrer"},i=c(`<h2 id="数据" tabindex="-1"><a class="header-anchor" href="#数据" aria-hidden="true">#</a> 数据</h2><h3 id="学生表-student" tabindex="-1"><a class="header-anchor" href="#学生表-student" aria-hidden="true">#</a> 学生表（Student）</h3><h4 id="建表语句" tabindex="-1"><a class="header-anchor" href="#建表语句" aria-hidden="true">#</a> 建表语句</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>SId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;学生编号&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>Sname<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;学生姓名&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>Sage<span class="token punctuation">\`</span></span> <span class="token keyword">datetime</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;出生年月&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>Ssex<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;学生性别&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="数据-1" tabindex="-1"><a class="header-anchor" href="#数据-1" aria-hidden="true">#</a> 数据</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;赵雷&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;钱电&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-12-21&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;孙风&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-05-20&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;李云&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1990-08-06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;男&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;周梅&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1991-12-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;吴兰&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1992-03-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;郑竹&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;1989-07-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;09&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;张三&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-12-20&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;李四&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-12-25&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;11&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;李四&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-12-30&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;12&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;赵六&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2017-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Student<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;13&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;孙七&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;2018-01-01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;女&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="课程表-course" tabindex="-1"><a class="header-anchor" href="#课程表-course" aria-hidden="true">#</a> 课程表（Course）</h3><h4 id="建表语句-1" tabindex="-1"><a class="header-anchor" href="#建表语句-1" aria-hidden="true">#</a> 建表语句</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>Course<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>CId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;课程编号&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>Cname<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">COLLATE</span> utf8_general_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;课程名称&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>TId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;教师编号&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="数据-2" tabindex="-1"><a class="header-anchor" href="#数据-2" aria-hidden="true">#</a> 数据</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Course<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;语文&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Course<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;数学&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Course<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;英语&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="教师表-teacher" tabindex="-1"><a class="header-anchor" href="#教师表-teacher" aria-hidden="true">#</a> 教师表（Teacher）</h3><h4 id="建表语句-2" tabindex="-1"><a class="header-anchor" href="#建表语句-2" aria-hidden="true">#</a> 建表语句</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>Teacher<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>TId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;教师编号&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>Tname<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;教师姓名&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="数据-3" tabindex="-1"><a class="header-anchor" href="#数据-3" aria-hidden="true">#</a> 数据</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Teacher<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Teacher<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>Teacher<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;王五&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="成绩表-sc" tabindex="-1"><a class="header-anchor" href="#成绩表-sc" aria-hidden="true">#</a> 成绩表（SC）</h3><h4 id="建表语句-3" tabindex="-1"><a class="header-anchor" href="#建表语句-3" aria-hidden="true">#</a> 建表语句</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">\`</span>SId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;学生编号&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>CId<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;课程编号&#39;</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">\`</span>score<span class="token punctuation">\`</span></span> <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;分数&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="数据-4" tabindex="-1"><a class="header-anchor" href="#数据-4" aria-hidden="true">#</a> 数据</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;04&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;05&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;01&#39;</span> <span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;06&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;02&#39;</span> <span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">\`</span>SC<span class="token punctuation">\`</span></span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;07&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;03&#39;</span> <span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-查询-01-课程比-02-课程成绩高的学生的信息及课程分数" tabindex="-1"><a class="header-anchor" href="#_1-查询-01-课程比-02-课程成绩高的学生的信息及课程分数" aria-hidden="true">#</a> 1 查询&quot; 01 &quot;课程比&quot; 02 &quot;课程成绩高的学生的信息及课程分数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
 <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Sid<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>Cid <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span>
 <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Sid<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>Cid <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2 
<span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>Sid <span class="token operator">=</span> t2<span class="token punctuation">.</span>Sid 
<span class="token operator">AND</span> t1<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> t2<span class="token punctuation">.</span>score<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-查询同时存在-01-课程和-02-课程的学生情况" tabindex="-1"><a class="header-anchor" href="#_1-1-查询同时存在-01-课程和-02-课程的学生情况" aria-hidden="true">#</a> 1.1 查询同时存在&quot; 01 &quot;课程和&quot; 02 &quot;课程的学生情况</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2 
<span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-查询存在-01-课程但可能不存在-02-课程的情况-不存在时显示为-null" tabindex="-1"><a class="header-anchor" href="#_1-2-查询存在-01-课程但可能不存在-02-课程的情况-不存在时显示为-null" aria-hidden="true">#</a> 1.2 查询存在&quot; 01 &quot;课程但可能不存在&quot; 02 &quot;课程的情况(不存在时显示为 null )</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2 
<span class="token keyword">ON</span> 
t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-查询不存在-01-课程但存在-02-课程的情况" tabindex="-1"><a class="header-anchor" href="#_1-3-查询不存在-01-课程但存在-02-课程的情况" aria-hidden="true">#</a> 1.3 查询不存在&quot; 01 &quot;课程但存在&quot; 02 &quot;课程的情况</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;02&#39;</span> <span class="token operator">AND</span> SId <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-查询平均成绩大于等于-60-分的同学的学生编号和学生姓名和平均成绩" tabindex="-1"><a class="header-anchor" href="#_2-查询平均成绩大于等于-60-分的同学的学生编号和学生姓名和平均成绩" aria-hidden="true">#</a> 2 查询平均成绩大于等于 60 分的同学的学生编号和学生姓名和平均成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> c<span class="token punctuation">.</span>avgscore <span class="token keyword">FROM</span> 
Student <span class="token keyword">AS</span> s 
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> 
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>SC<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> avgscore <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> avgscore <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> c 
<span class="token keyword">ON</span> 
s<span class="token punctuation">.</span>SId <span class="token operator">=</span> c<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-查询在-sc-表存在成绩的学生信息" tabindex="-1"><a class="header-anchor" href="#_3-查询在-sc-表存在成绩的学生信息" aria-hidden="true">#</a> 3 查询在 SC 表存在成绩的学生信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> SId <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">,</span> SC <span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId <span class="token operator">=</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
<span class="token comment">-- 方法3</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">ON</span> Student<span class="token punctuation">.</span>SId <span class="token operator">=</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩-没成绩的显示为null" tabindex="-1"><a class="header-anchor" href="#_4-查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩-没成绩的显示为null" aria-hidden="true">#</a> 4 查询所有同学的学生编号、学生姓名、选课总数、所有课程的总成绩(没成绩的显示为null)</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>coursecount<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>sumscore <span class="token keyword">FROM</span> 
  Student <span class="token keyword">AS</span> s 
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> sumscore<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token keyword">as</span> coursecount <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId<span class="token punctuation">)</span> <span class="token keyword">AS</span> sc 
<span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> s<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> s<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>coursecount<span class="token punctuation">,</span> sc<span class="token punctuation">.</span>sumscore <span class="token keyword">FROM</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> sumscore<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>sc<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token keyword">as</span> coursecount <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId<span class="token punctuation">)</span> <span class="token keyword">as</span> sc 
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> 
  Student <span class="token keyword">AS</span> s 
<span class="token keyword">ON</span> s<span class="token punctuation">.</span>SId <span class="token operator">=</span> sc<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-1-查有成绩的学生信息" tabindex="-1"><a class="header-anchor" href="#_4-1-查有成绩的学生信息" aria-hidden="true">#</a> 4.1 查有成绩的学生信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>SId<span class="token operator">=</span>Student<span class="token punctuation">.</span>SId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-查询「李」姓老师的数量" tabindex="-1"><a class="header-anchor" href="#_5-查询「李」姓老师的数量" aria-hidden="true">#</a> 5 查询「李」姓老师的数量</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> Teacher <span class="token keyword">WHERE</span> Tname <span class="token operator">LIKE</span> <span class="token string">&#39;李%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-查询学过「张三」老师授课的同学的信息" tabindex="-1"><a class="header-anchor" href="#_6-查询学过「张三」老师授课的同学的信息" aria-hidden="true">#</a> 6 查询学过「张三」老师授课的同学的信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> SId <span class="token operator">IN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">IN</span> 
    <span class="token punctuation">(</span><span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> Course <span class="token keyword">WHERE</span> Tid <span class="token operator">IN</span> 
      <span class="token punctuation">(</span><span class="token keyword">SELECT</span> TId <span class="token keyword">FROM</span> Teacher <span class="token keyword">WHERE</span> Tname<span class="token operator">=</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Teacher<span class="token punctuation">,</span> Course<span class="token punctuation">,</span> Student<span class="token punctuation">,</span> SC 
<span class="token keyword">WHERE</span> Teacher<span class="token punctuation">.</span>Tname <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span> 
<span class="token operator">AND</span> Teacher<span class="token punctuation">.</span>TId <span class="token operator">=</span> Course<span class="token punctuation">.</span>TId 
<span class="token operator">AND</span> Course<span class="token punctuation">.</span>CId <span class="token operator">=</span> SC<span class="token punctuation">.</span>CId 
<span class="token operator">AND</span> SC<span class="token punctuation">.</span>SId <span class="token operator">=</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-查询没有学全所有课程的同学的信息" tabindex="-1"><a class="header-anchor" href="#_7-查询没有学全所有课程的同学的信息" aria-hidden="true">#</a> 7 查询没有学全所有课程的同学的信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Student 
<span class="token keyword">WHERE</span> SId <span class="token operator">NOT</span> <span class="token operator">IN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>SC<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> Course<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>Course<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> Student<span class="token punctuation">,</span>Course<span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">,</span>SC<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> SC<span class="token punctuation">)</span> <span class="token keyword">AS</span> t2 
<span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId 
<span class="token operator">AND</span> t1<span class="token punctuation">.</span>CId <span class="token operator">=</span> t2<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> Student 
<span class="token keyword">WHERE</span> t2<span class="token punctuation">.</span>SId <span class="token operator">IS</span> <span class="token boolean">NULL</span> 
<span class="token operator">AND</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-查询至少有一门课与学号为-01-的同学所学相同的同学的信息" tabindex="-1"><a class="header-anchor" href="#_8-查询至少有一门课与学号为-01-的同学所学相同的同学的信息" aria-hidden="true">#</a> 8 查询至少有一门课与学号为&quot; 01 &quot;的同学所学相同的同学的信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Student 
<span class="token keyword">WHERE</span> SId <span class="token operator">IN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">IN</span> 
    <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Sc<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> 
  <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Student<span class="token punctuation">,</span> SC 
<span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> 
<span class="token operator">AND</span> SC<span class="token punctuation">.</span>SId <span class="token operator">=</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-查询和-01-号的同学学习的课程完全相同的其他同学的信息" tabindex="-1"><a class="header-anchor" href="#_9-查询和-01-号的同学学习的课程完全相同的其他同学的信息" aria-hidden="true">#</a> 9 查询和&quot; 01 &quot;号的同学学习的课程完全相同的其他同学的信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId <span class="token operator">NOT</span> <span class="token operator">IN</span><span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> t1<span class="token punctuation">.</span>SId <span class="token keyword">FROM</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> 
Student<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>SId<span class="token operator">=</span><span class="token string">&#39;01&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t<span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId<span class="token operator">=</span>SC<span class="token punctuation">.</span>SId <span class="token operator">AND</span> t1<span class="token punctuation">.</span>CId<span class="token operator">=</span>SC<span class="token punctuation">.</span>CId <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">AND</span> Student<span class="token punctuation">.</span>SId<span class="token operator">!=</span><span class="token string">&#39;01&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-查询没学过-张三-老师讲授的任一门课程的学生姓名" tabindex="-1"><a class="header-anchor" href="#_10-查询没学过-张三-老师讲授的任一门课程的学生姓名" aria-hidden="true">#</a> 10 查询没学过&quot;张三&quot;老师讲授的任一门课程的学生姓名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Student 
<span class="token keyword">WHERE</span> SId <span class="token operator">NOT</span> <span class="token operator">IN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">IN</span> 
    <span class="token punctuation">(</span><span class="token keyword">SELECT</span> CId <span class="token keyword">FROM</span> Course <span class="token keyword">WHERE</span> TId <span class="token operator">IN</span> 
      <span class="token punctuation">(</span><span class="token keyword">SELECT</span> TId <span class="token keyword">FROM</span> Teacher <span class="token keyword">WHERE</span> Tname<span class="token operator">=</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
  Student 
<span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId <span class="token operator">NOT</span> <span class="token operator">IN</span> 
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId <span class="token keyword">FROM</span> Student <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">ON</span> Student<span class="token punctuation">.</span>SId <span class="token operator">=</span> SC<span class="token punctuation">.</span>SId <span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> 
    <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Teacher<span class="token punctuation">,</span>Course <span class="token keyword">WHERE</span> Teacher<span class="token punctuation">.</span>Tname <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span> <span class="token operator">AND</span> Teacher<span class="token punctuation">.</span>TId <span class="token operator">=</span> Course<span class="token punctuation">.</span>TId <span class="token operator">AND</span> Course<span class="token punctuation">.</span>CId <span class="token operator">=</span> SC<span class="token punctuation">.</span>CId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-查询两门及其以上不及格课程的同学的学号-姓名及其平均成绩" tabindex="-1"><a class="header-anchor" href="#_11-查询两门及其以上不及格课程的同学的学号-姓名及其平均成绩" aria-hidden="true">#</a> 11 查询两门及其以上不及格课程的同学的学号，姓名及其平均成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> Student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> scoreavg <span class="token keyword">FROM</span> 
  Student<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> scoreavg <span class="token keyword">FROM</span> 
  SC <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t 
<span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId<span class="token operator">=</span>t<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-检索-01-课程分数小于-60-按分数降序排列的学生信息" tabindex="-1"><a class="header-anchor" href="#_12-检索-01-课程分数小于-60-按分数降序排列的学生信息" aria-hidden="true">#</a> 12 检索&quot; 01 &quot;课程分数小于 60，按分数降序排列的学生信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> CId <span class="token operator">=</span> <span class="token string">&#39;01&#39;</span> <span class="token operator">AND</span> score <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token keyword">as</span> t <span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId <span class="token operator">=</span> t<span class="token punctuation">.</span>SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t<span class="token punctuation">.</span>score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">,</span>SC <span class="token keyword">WHERE</span> Student<span class="token punctuation">.</span>SId <span class="token operator">=</span> SC<span class="token punctuation">.</span>SId <span class="token operator">AND</span> SC<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">&#39;01&#39;</span> <span class="token operator">AND</span> SC<span class="token punctuation">.</span>score<span class="token operator">&lt;</span><span class="token number">60</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SC<span class="token punctuation">.</span>score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩" tabindex="-1"><a class="header-anchor" href="#_13-按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩" aria-hidden="true">#</a> 13 按平均成绩从高到低显示所有学生的所有课程的成绩以及平均成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score<span class="token punctuation">,</span> t<span class="token punctuation">.</span>scoreavg <span class="token keyword">FROM</span> SC <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> scoreavg <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId<span class="token punctuation">)</span> <span class="token keyword">AS</span> t <span class="token keyword">ON</span> SC<span class="token punctuation">.</span>SId<span class="token operator">=</span>t<span class="token punctuation">.</span>SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t<span class="token punctuation">.</span>scoreavg <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_14-查询各科成绩最高分、最低分和平均分" tabindex="-1"><a class="header-anchor" href="#_14-查询各科成绩最高分、最低分和平均分" aria-hidden="true">#</a> 14 查询各科成绩最高分、最低分和平均分：</h3><blockquote><p>以如下形式显示：课程 ID，课程 name，最高分，最低分，平均分，及格率，中等率，优良率，优秀率 及格为&gt;=60，中等为：70-80，优良为：80-90，优秀为：&gt;=90 要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</p></blockquote><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Course<span class="token punctuation">.</span>CId <span class="token keyword">AS</span> <span class="token string">&#39;课程 ID&#39;</span><span class="token punctuation">,</span> Course<span class="token punctuation">.</span>Cname <span class="token keyword">AS</span> <span class="token string">&#39;课程 name&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>total <span class="token keyword">AS</span> <span class="token string">&#39;选修人数&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>scoremax <span class="token keyword">AS</span> <span class="token string">&#39;最高分&#39;</span><span class="token punctuation">,</span> 
t1<span class="token punctuation">.</span>scoremin <span class="token keyword">AS</span> <span class="token string">&#39;最低分&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>scoreavg <span class="token keyword">AS</span> <span class="token string">&#39;平均分&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>passrate <span class="token keyword">AS</span> <span class="token string">&#39;及格率&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>mediumtate <span class="token keyword">AS</span> <span class="token string">&#39;中等率&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>goodrate <span class="token keyword">AS</span> <span class="token string">&#39;优良率&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>excellentrate <span class="token keyword">AS</span> <span class="token string">&#39;优秀率&#39;</span> <span class="token keyword">FROM</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span>
<span class="token function">MAX</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;scoremax&#39;</span><span class="token punctuation">,</span>
<span class="token function">MIN</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;scoremin&#39;</span><span class="token punctuation">,</span>
<span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;scoreavg&#39;</span><span class="token punctuation">,</span>
<span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;total&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;passrate&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&gt;=</span> <span class="token number">70</span> <span class="token operator">AND</span> score <span class="token operator">&lt;</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;mediumtate&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&gt;=</span> <span class="token number">80</span> <span class="token operator">AND</span> score <span class="token operator">&lt;</span><span class="token number">90</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;goodrate&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span>score <span class="token operator">&gt;=</span> <span class="token number">90</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;excellentrate&#39;</span>
<span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId<span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Course <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>CId<span class="token operator">=</span>Course<span class="token punctuation">.</span>CId
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>total <span class="token keyword">DESC</span><span class="token punctuation">,</span> Course<span class="token punctuation">.</span>CId <span class="token keyword">ASC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-按各科成绩进行排序-并显示排名-score-重复时保留名次空缺" tabindex="-1"><a class="header-anchor" href="#_15-按各科成绩进行排序-并显示排名-score-重复时保留名次空缺" aria-hidden="true">#</a> 15 按各科成绩进行排序，并显示排名， Score 重复时保留名次空缺</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- mysql8才支持的写法</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span>RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> SC<span class="token punctuation">;</span>
<span class="token comment">-- 一般写法</span>
<span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> CId<span class="token punctuation">,</span> score<span class="token punctuation">,</span> rank1 <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> CId<span class="token punctuation">,</span> score<span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token variable">@curScore</span> <span class="token operator">=</span> score<span class="token punctuation">,</span> <span class="token variable">@curRank</span><span class="token punctuation">,</span> <span class="token variable">@incRank</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> rank1<span class="token punctuation">,</span> <span class="token variable">@incRank</span> :<span class="token operator">=</span> <span class="token variable">@incRank</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> score <span class="token keyword">FROM</span> SC<span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">@incRank</span> :<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span>
<span class="token punctuation">)</span> <span class="token keyword">AS</span> t2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-1-按各科成绩进行排序-并显示排名-score-重复时合并名次" tabindex="-1"><a class="header-anchor" href="#_15-1-按各科成绩进行排序-并显示排名-score-重复时合并名次" aria-hidden="true">#</a> 15.1 按各科成绩进行排序，并显示排名， Score 重复时合并名次</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- mysql8才支持的写法</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span>DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> SC<span class="token punctuation">;</span>
<span class="token comment">-- 一般写法</span>
<span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> CId<span class="token punctuation">,</span> score<span class="token punctuation">,</span> 
<span class="token keyword">CASE</span>
  <span class="token keyword">WHEN</span> <span class="token variable">@curScore</span> <span class="token operator">=</span> score 
    <span class="token keyword">THEN</span> <span class="token variable">@curRank</span>
  <span class="token keyword">WHEN</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> score 
    <span class="token keyword">THEN</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token variable">@curRank</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span>
<span class="token keyword">FROM</span> SC<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-查询学生的总成绩-并进行排名-总分重复时保留名次空缺" tabindex="-1"><a class="header-anchor" href="#_16-查询学生的总成绩-并进行排名-总分重复时保留名次空缺" aria-hidden="true">#</a> 16 查询学生的总成绩，并进行排名，总分重复时保留名次空缺</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> t1<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t1<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>totalScore <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> totalScore <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> totalScore<span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> t<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> t<span class="token punctuation">.</span>rank1 <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> t1<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t1<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> 
<span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token variable">@curScore</span> <span class="token operator">=</span> t1<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> <span class="token variable">@curRank</span><span class="token punctuation">,</span> <span class="token variable">@incRank</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;rank1&#39;</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> t1<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> <span class="token variable">@incRank</span> :<span class="token operator">=</span> <span class="token variable">@incRank</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> totalScore <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> totalScore <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">@incRank</span> :<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2<span class="token punctuation">)</span> <span class="token keyword">as</span> t<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-1-查询学生的总成绩-并进行排名-总分重复时不保留名次空缺" tabindex="-1"><a class="header-anchor" href="#_16-1-查询学生的总成绩-并进行排名-总分重复时不保留名次空缺" aria-hidden="true">#</a> 16.1 查询学生的总成绩，并进行排名，总分重复时不保留名次空缺</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> t1<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t1<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>totalScore <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">as</span> totalScore <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> totalScore<span class="token punctuation">)</span> <span class="token keyword">as</span> t1<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> t<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t<span class="token punctuation">.</span>totalScore<span class="token punctuation">,</span> t<span class="token punctuation">.</span>rank1 <span class="token keyword">AS</span> <span class="token string">&#39;排名&#39;</span> <span class="token keyword">FROM</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span>
<span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token variable">@curScore</span> <span class="token operator">=</span> totalScore<span class="token punctuation">,</span> <span class="token variable">@curRank</span><span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token variable">@curRank</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;rank1&#39;</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> totalScore
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> totalScore <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> totalScore <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2<span class="token punctuation">)</span> <span class="token keyword">AS</span> t<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-统计各科成绩各分数段人数-课程编号-课程名称-100-85-85-70-70-60-60-0-及所占百分比" tabindex="-1"><a class="header-anchor" href="#_17-统计各科成绩各分数段人数-课程编号-课程名称-100-85-85-70-70-60-60-0-及所占百分比" aria-hidden="true">#</a> 17 统计各科成绩各分数段人数：课程编号，课程名称，[100-85]，[85-70]，[70-60]，[60-0] 及所占百分比</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Course<span class="token punctuation">.</span>CId <span class="token keyword">AS</span> <span class="token string">&#39;课程编号&#39;</span><span class="token punctuation">,</span> Course<span class="token punctuation">.</span>Cname <span class="token keyword">AS</span> <span class="token string">&#39;课程名称&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>p1 <span class="token keyword">AS</span> <span class="token string">&#39;[100-85]&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>p2 <span class="token keyword">AS</span> <span class="token string">&#39;[85-70]&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>p3 <span class="token keyword">AS</span> <span class="token string">&#39;[70-60]&#39;</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>p4 <span class="token keyword">AS</span> <span class="token string">&#39;[60-0]&#39;</span> <span class="token keyword">FROM</span> Course <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> 
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&lt;=</span> <span class="token number">100</span> <span class="token operator">AND</span> score <span class="token operator">&gt;=</span> <span class="token number">85</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;p1&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&lt;</span> <span class="token number">85</span> <span class="token operator">AND</span> score <span class="token operator">&gt;=</span> <span class="token number">70</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;p2&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&lt;</span> <span class="token number">70</span> <span class="token operator">AND</span> score <span class="token operator">&gt;=</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;p3&#39;</span><span class="token punctuation">,</span>
CONCAT<span class="token punctuation">(</span><span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">(</span>score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token operator">AND</span> score <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&#39;%&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;p4&#39;</span>
<span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId<span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">ON</span> Course<span class="token punctuation">.</span>CId <span class="token operator">=</span> t1<span class="token punctuation">.</span>CId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-查询各科成绩前三名的记录" tabindex="-1"><a class="header-anchor" href="#_18-查询各科成绩前三名的记录" aria-hidden="true">#</a> 18 查询各科成绩前三名的记录</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> a <span class="token keyword">WHERE</span> a<span class="token punctuation">.</span>SId <span class="token operator">=</span> SC<span class="token punctuation">.</span>SId <span class="token operator">AND</span> SC<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SC<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">DESC</span><span class="token punctuation">;</span><span class="token comment">-- 获取小于3条的成绩</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_19-查询每门课程被选修的学生数" tabindex="-1"><a class="header-anchor" href="#_19-查询每门课程被选修的学生数" aria-hidden="true">#</a> 19 查询每门课程被选修的学生数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_20-查询出只选修两门课程的学生学号和姓名" tabindex="-1"><a class="header-anchor" href="#_20-查询出只选修两门课程的学生学号和姓名" aria-hidden="true">#</a> 20 查询出只选修两门课程的学生学号和姓名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> Student<span class="token punctuation">.</span>Sname <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> CId<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_21-查询男生、女生人数" tabindex="-1"><a class="header-anchor" href="#_21-查询男生、女生人数" aria-hidden="true">#</a> 21 查询男生、女生人数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Ssex<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;人数&#39;</span> <span class="token keyword">FROM</span> Student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Ssex<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_22-查询名字中含有「风」字的学生信息" tabindex="-1"><a class="header-anchor" href="#_22-查询名字中含有「风」字的学生信息" aria-hidden="true">#</a> 22 查询名字中含有「风」字的学生信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> Sname <span class="token operator">LIKE</span> <span class="token string">&#39;%风%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_23-查询同名同性学生名单-并统计同名人数" tabindex="-1"><a class="header-anchor" href="#_23-查询同名同性学生名单-并统计同名人数" aria-hidden="true">#</a> 23 查询同名同性学生名单，并统计同名人数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> t1<span class="token punctuation">.</span>nums <span class="token keyword">AS</span> <span class="token string">&#39;同名人数&#39;</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> Sname<span class="token punctuation">,</span> Ssex<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> nums <span class="token keyword">FROM</span> Student <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Sname<span class="token punctuation">,</span> Ssex <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student <span class="token keyword">ON</span> Student<span class="token punctuation">.</span>Sname<span class="token operator">=</span>t1<span class="token punctuation">.</span>Sname<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_24-查询-1990-年出生的学生名单" tabindex="-1"><a class="header-anchor" href="#_24-查询-1990-年出生的学生名单" aria-hidden="true">#</a> 24 查询 1990 年出生的学生名单</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;1990&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_25-查询每门课程的平均成绩-结果按平均成绩降序排列-平均成绩相同时-按课程编号升序排列" tabindex="-1"><a class="header-anchor" href="#_25-查询每门课程的平均成绩-结果按平均成绩降序排列-平均成绩相同时-按课程编号升序排列" aria-hidden="true">#</a> 25 查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;平均成绩&#39;</span> <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 平均成绩 <span class="token keyword">DESC</span><span class="token punctuation">,</span> CId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_26-查询平均成绩大于等于-85-的所有学生的学号、姓名和平均成绩" tabindex="-1"><a class="header-anchor" href="#_26-查询平均成绩大于等于-85-的所有学生的学号、姓名和平均成绩" aria-hidden="true">#</a> 26 查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> Student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> t1<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">\`</span>平均成绩<span class="token punctuation">\`</span></span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;平均成绩&#39;</span> <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> 平均成绩 <span class="token operator">&gt;</span> <span class="token number">85</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1 <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> Student <span class="token keyword">ON</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_27-查询课程名称为「数学」-且分数低于-60-的学生姓名和分数" tabindex="-1"><a class="header-anchor" href="#_27-查询课程名称为「数学」-且分数低于-60-的学生姓名和分数" aria-hidden="true">#</a> 27 查询课程名称为「数学」，且分数低于 60 的学生姓名和分数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> Student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Course <span class="token keyword">ON</span> SC<span class="token punctuation">.</span>CId<span class="token operator">=</span>Course<span class="token punctuation">.</span>CId <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token operator">AND</span> Course<span class="token punctuation">.</span>Cname <span class="token operator">=</span> <span class="token string">&#39;数学&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_28-查询所有学生的课程及分数情况-存在学生没成绩-没选课的情况" tabindex="-1"><a class="header-anchor" href="#_28-查询所有学生的课程及分数情况-存在学生没成绩-没选课的情况" aria-hidden="true">#</a> 28 查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> Student <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_29-查询任何一门课程成绩在-70-分以上的姓名、课程名称和分数" tabindex="-1"><a class="header-anchor" href="#_29-查询任何一门课程成绩在-70-分以上的姓名、课程名称和分数" aria-hidden="true">#</a> 29 查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span>Sname<span class="token punctuation">,</span> Course<span class="token punctuation">.</span>Cname<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> Student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Course <span class="token keyword">USING</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> <span class="token number">70</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_30-查询存在不及格的课程" tabindex="-1"><a class="header-anchor" href="#_30-查询存在不及格的课程" aria-hidden="true">#</a> 30 查询存在不及格的课程</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC <span class="token keyword">WHERE</span> score <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_31-查询课程编号为-01-且课程成绩在-80-分以上的学生的学号和姓名" tabindex="-1"><a class="header-anchor" href="#_31-查询课程编号为-01-且课程成绩在-80-分以上的学生的学号和姓名" aria-hidden="true">#</a> 31 查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> Student<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> Student<span class="token punctuation">.</span>Sname <span class="token keyword">FROM</span> Student <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span>CId<span class="token operator">=</span><span class="token string">&#39;01&#39;</span> <span class="token operator">AND</span> SC<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> <span class="token number">80</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_32-求每门课程的学生人数" tabindex="-1"><a class="header-anchor" href="#_32-求每门课程的学生人数" aria-hidden="true">#</a> 32 求每门课程的学生人数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_33-成绩不重复-查询选修「张三」老师所授课程的学生中-成绩最高的学生信息及其成绩" tabindex="-1"><a class="header-anchor" href="#_33-成绩不重复-查询选修「张三」老师所授课程的学生中-成绩最高的学生信息及其成绩" aria-hidden="true">#</a> 33 成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> Sc<span class="token punctuation">.</span>score<span class="token punctuation">,</span> SC<span class="token punctuation">.</span>CId <span class="token keyword">FROM</span> Teacher <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Course <span class="token keyword">USING</span><span class="token punctuation">(</span>TId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Student <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> Tname<span class="token operator">=</span><span class="token string">&#39;张三&#39;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span> <span class="token keyword">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_34-成绩有重复的情况下-查询选修「张三」老师所授课程的学生中-成绩最高的学生信息及其成绩" tabindex="-1"><a class="header-anchor" href="#_34-成绩有重复的情况下-查询选修「张三」老师所授课程的学生中-成绩最高的学生信息及其成绩" aria-hidden="true">#</a> 34 成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> t1<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>
<span class="token keyword">CASE</span>
  <span class="token keyword">WHEN</span> <span class="token variable">@curScore</span> <span class="token operator">=</span> t1<span class="token punctuation">.</span>score <span class="token keyword">THEN</span>
    <span class="token variable">@curRank</span>
  <span class="token keyword">WHEN</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> t1<span class="token punctuation">.</span>score <span class="token keyword">THEN</span>
   <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token variable">@curRank</span> <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">&#39;rank&#39;</span> <span class="token keyword">FROM</span> 
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> Student<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span> SC<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> Teacher <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Course <span class="token keyword">USING</span><span class="token punctuation">(</span>TId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> SC <span class="token keyword">USING</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> Student <span class="token keyword">USING</span><span class="token punctuation">(</span>SId<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> Tname<span class="token operator">=</span><span class="token string">&#39;张三&#39;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curScore</span> :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2<span class="token punctuation">)</span> <span class="token keyword">AS</span> t <span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>rank <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_35-查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩" tabindex="-1"><a class="header-anchor" href="#_35-查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩" aria-hidden="true">#</a> 35 查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 方法1</span>
<span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> t1<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t1<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> t1<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> t1<span class="token punctuation">,</span> SC <span class="token keyword">AS</span> t2 <span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId <span class="token operator">AND</span> t1<span class="token punctuation">.</span>CId <span class="token operator">!=</span> t2<span class="token punctuation">.</span>CId <span class="token operator">AND</span> t1<span class="token punctuation">.</span>score <span class="token operator">=</span> t2<span class="token punctuation">.</span>score<span class="token punctuation">;</span>

<span class="token comment">-- 方法2</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> t1 <span class="token keyword">WHERE</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> t2 <span class="token keyword">WHERE</span> t1<span class="token punctuation">.</span>SId <span class="token operator">=</span> t2<span class="token punctuation">.</span>SId <span class="token operator">AND</span> t1<span class="token punctuation">.</span>CId <span class="token operator">!=</span> t2<span class="token punctuation">.</span>CId <span class="token operator">AND</span> t1<span class="token punctuation">.</span>score <span class="token operator">=</span> t2<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_36-查询每门课程成绩最好的前两名" tabindex="-1"><a class="header-anchor" href="#_36-查询每门课程成绩最好的前两名" aria-hidden="true">#</a> 36 查询每门课程成绩最好的前两名</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- mysql8写法</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span> ROW_NUMBER<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> CId <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> A <span class="token keyword">FROM</span> SC<span class="token punctuation">)</span> <span class="token keyword">AS</span> B <span class="token keyword">WHERE</span> B<span class="token punctuation">.</span>A <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">-- 依次匹配</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> t1 <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> SC <span class="token keyword">AS</span> t2 <span class="token keyword">WHERE</span> t2<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> t1<span class="token punctuation">.</span>score <span class="token operator">AND</span> t1<span class="token punctuation">.</span>CId <span class="token operator">=</span> t2<span class="token punctuation">.</span>CId<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> t1<span class="token punctuation">.</span>CId<span class="token punctuation">;</span>

<span class="token comment">-- 排名获取</span>
<span class="token keyword">SELECT</span> t<span class="token punctuation">.</span>SId<span class="token punctuation">,</span> t<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> t<span class="token punctuation">.</span>score <span class="token keyword">FROM</span> <span class="token punctuation">(</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span>
<span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token variable">@curCid</span> <span class="token operator">=</span> t1<span class="token punctuation">.</span>CId<span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token variable">@curRank</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;rank&#39;</span><span class="token punctuation">,</span>
<span class="token variable">@curCid</span> :<span class="token operator">=</span> t1<span class="token punctuation">.</span>CId
<span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> SC <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> CId<span class="token punctuation">,</span> score <span class="token keyword">DESC</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token variable">@curCid</span> :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token variable">@curRank</span> :<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> t2<span class="token punctuation">)</span> <span class="token keyword">AS</span> t <span class="token keyword">WHERE</span> t<span class="token punctuation">.</span>rank <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_37-统计每门课程的学生选修人数-超过-5-人的课程才统计" tabindex="-1"><a class="header-anchor" href="#_37-统计每门课程的学生选修人数-超过-5-人的课程才统计" aria-hidden="true">#</a> 37 统计每门课程的学生选修人数（超过 5 人的课程才统计）</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CId<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> SId<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;学生选修人数&#39;</span> <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> CId <span class="token keyword">HAVING</span> 学生选修人数 <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_38-检索至少选修两门课程的学生学号" tabindex="-1"><a class="header-anchor" href="#_38-检索至少选修两门课程的学生学号" aria-hidden="true">#</a> 38 检索至少选修两门课程的学生学号</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> CId<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_39-查询选修了全部课程的学生信息" tabindex="-1"><a class="header-anchor" href="#_39-查询选修了全部课程的学生信息" aria-hidden="true">#</a> 39 查询选修了全部课程的学生信息</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SId <span class="token keyword">FROM</span> SC <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> SId <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>CId<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> Cname<span class="token punctuation">)</span> <span class="token keyword">FROM</span> Course<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_40-查询各学生的年龄-只按年份来算" tabindex="-1"><a class="header-anchor" href="#_40-查询各学生的年龄-只按年份来算" aria-hidden="true">#</a> 40 查询各学生的年龄，只按年份来算</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">YEAR</span><span class="token punctuation">,</span> Sage<span class="token punctuation">,</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;年龄&#39;</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_41-按照出生日期来算-当前月日-出生年月的月日则-年龄减一" tabindex="-1"><a class="header-anchor" href="#_41-按照出生日期来算-当前月日-出生年月的月日则-年龄减一" aria-hidden="true">#</a> 41 按照出生日期来算，当前月日 &lt; 出生年月的月日则，年龄减一</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SId<span class="token punctuation">,</span> Sname<span class="token punctuation">,</span> TIMESTAMPDIFF<span class="token punctuation">(</span><span class="token keyword">YEAR</span><span class="token punctuation">,</span>Sage<span class="token punctuation">,</span><span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">&#39;年龄&#39;</span> <span class="token keyword">FROM</span> Student<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_42-查询本周过生日的学生" tabindex="-1"><a class="header-anchor" href="#_42-查询本周过生日的学生" aria-hidden="true">#</a> 42 查询本周过生日的学生</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> YEARWEEK<span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> YEARWEEK<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> YEARWEEK<span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> YEARWEEK<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_43-查询下周过生日的学生" tabindex="-1"><a class="header-anchor" href="#_43-查询下周过生日的学生" aria-hidden="true">#</a> 43 查询下周过生日的学生</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> WEEK<span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> WEEK<span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_44-查询本月过生日的学生" tabindex="-1"><a class="header-anchor" href="#_44-查询本月过生日的学生" aria-hidden="true">#</a> 44 查询本月过生日的学生</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_45-查询下月过生日的学生" tabindex="-1"><a class="header-anchor" href="#_45-查询下月过生日的学生" aria-hidden="true">#</a> 45 查询下月过生日的学生</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Student <span class="token keyword">WHERE</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span>Sage<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token keyword">CURRENT_DATE</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2>`,125),r={href:"https://zhuanlan.zhihu.com/p/32137597",target:"_blank",rel:"noopener noreferrer"};function d(y,w){const a=l("ExternalLinkIcon");return e(),o("div",null,[s("p",null,[n("一直想提高自己对 SQL 的认知水平，最近终于下决心好好学习下，首先做了《"),s("a",u,[n("超经典SQL练习题，做完这些你的 SQL 就过关了"),p(a)]),n("》这篇文章中的50道 SQL 题目，确实蛮有意思的，写 SQL 重要的是在于思路，不同的思路有不同的解法，当然 SQL 的性能问题暂时还未考虑，后面将会不断的补充和完善。练习使用的数据库为 MySQL8。")]),i,s("ul",null,[s("li",null,[s("a",r,[n("50道SQL练习题"),p(a)])])])])}const S=t(k,[["render",d],["__file","SQL练习（一）.html.vue"]]);export{S as default};
